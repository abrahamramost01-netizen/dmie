<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>YOLO Raw Test</title>
</head>
<body>
    <h2>Subir imagen</h2>

    <form id="f">
        <input type="file" name="image" required>
        <button>Enviar</button>
    </form>

    <pre id="out"></pre>
    <img id="img" style="max-width:500px">

    <script>
        document.getElementById("f").onsubmit = async (e) => {
            e.preventDefault();
            const fd = new FormData(e.target);
            const r = await fetch("/detect", { method:"POST", body: fd });
            const j = await r.json();
            document.getElementById("out").textContent = JSON.stringify(j, null, 2);
            document.getElementById("img").src = "/processed/" + j.image;
        }
    </script>
</body>
</html>

